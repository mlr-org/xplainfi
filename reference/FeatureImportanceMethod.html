<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Feature Importance Method Class — FeatureImportanceMethod • xplainfi</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Feature Importance Method Class — FeatureImportanceMethod"><meta name="description" content="Feature Importance Method Class
Feature Importance Method Class"><meta property="og:description" content="Feature Importance Method Class
Feature Importance Method Class"><script defer src="https://umami.jemu.name/script.js" data-website-id="248c8668-4908-4c63-86f7-db0a1b19758a"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">xplainfi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/xplainfi.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><h6 class="dropdown-header" data-toc-skip>Method Showcase</h6></li>
    <li><a class="dropdown-item" href="../articles/perturbation-importance.html">Perturbation-Based Methods (PFI, CFI, RFI)</a></li>
    <li><a class="dropdown-item" href="../articles/loco.html">Model Refitting Measures (LOCO, WVIM)</a></li>
    <li><a class="dropdown-item" href="../articles/sage-methods.html">Shapley Additive Global ImportancE (SAGE)</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Specialized Topics</h6></li>
    <li><a class="dropdown-item" href="../articles/feature-samplers.html">Feature Samplers</a></li>
    <li><a class="dropdown-item" href="../articles/inference.html">Inference for Feature Importances</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Testing &amp; Validation</h6></li>
    <li><a class="dropdown-item" href="../articles/simulation-settings.html">Simulation Settings</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mlr-org/xplainfi/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Feature Importance Method Class</h1>
      <small class="dont-index">Source: <a href="https://github.com/mlr-org/xplainfi/blob/main/R/FeatureImportanceMethod.R" class="external-link"><code>R/FeatureImportanceMethod.R</code></a></small>
      <div class="d-none name"><code>FeatureImportanceMethod.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Feature Importance Method Class</p>
<p>Feature Importance Method Class</p>
    </div>


    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Nadeau C, Bengio Y (2003).
“Inference for the Generalization Error.”
<em>Machine Learning</em>, <b>52</b>(3), 239–281.
<a href="https://doi.org/10.1023/A%3A1024068626366" class="external-link">doi:10.1023/A:1024068626366</a>
.
Molnar C, Freiesleben T, König G, Herbinger J, Reisinger T, Casalicchio G, Wright M, Bischl B (2023).
“Relating the Partial Dependence Plot and Permutation Feature Importance to the Data Generating Process.”
In Longo L (ed.), <em>Explainable Artificial Intelligence</em>, 456–479.
ISBN 978-3-031-44064-9, <a href="https://doi.org/10.1007/978-3-031-44064-9_24" class="external-link">doi:10.1007/978-3-031-44064-9_24</a>
.</p>
    </div>
    <div class="section level2">
    <h2 id="public-fields">Public fields<a class="anchor" aria-label="anchor" href="#public-fields"></a></h2>
    <p></p><div class="r6-fields"><dl><dt><code>label</code></dt>
<dd><p>(<code>character(1)</code>) Method label.</p></dd>


<dt><code>task</code></dt>
<dd><p>(<a href="https://mlr3.mlr-org.com/reference/Task.html" class="external-link">mlr3::Task</a>)</p></dd>


<dt><code>learner</code></dt>
<dd><p>(<a href="https://mlr3.mlr-org.com/reference/Learner.html" class="external-link">mlr3::Learner</a>)</p></dd>


<dt><code>measure</code></dt>
<dd><p>(<a href="https://mlr3.mlr-org.com/reference/Measure.html" class="external-link">mlr3::Measure</a>)</p></dd>


<dt><code>resampling</code></dt>
<dd><p>(<a href="https://mlr3.mlr-org.com/reference/Resampling.html" class="external-link">mlr3::Resampling</a>), instantiated upon construction.</p></dd>


<dt><code>resample_result</code></dt>
<dd><p>(<a href="https://mlr3.mlr-org.com/reference/ResampleResult.html" class="external-link">mlr3::ResampleResult</a>) of the original <code>learner</code> and <code>task</code>, used for baseline scores.</p></dd>


<dt><code>features</code></dt>
<dd><p>(<code>character</code>: <code>NULL</code>) Features of interest. By default, importances will be computed for each feature
in <code>task</code>, but optionally this can be restricted to at least one feature. Ignored if <code>groups</code> is specified.</p></dd>


<dt><code>groups</code></dt>
<dd><p>(<code>list</code>: <code>NULL</code>) A (named) list of features (names or indices as in <code>task</code>).
If <code>groups</code> is specified, <code>features</code> is ignored.
Importances will be calculated for group of features at a time, e.g., in <a href="PFI.html">PFI</a> not one but the group of features will be permuted at each step.
Analogously in <a href="WVIM.html">WVIM</a>, each group of features will be left out (or in) for each model refit.
Not all methods support groups (e.g., <a href="SAGE.html">SAGE</a>).</p></dd>


<dt><code>param_set</code></dt>
<dd><p>(<code><a href="https://paradox.mlr-org.com/reference/ps.html" class="external-link">paradox::ps()</a></code>)</p></dd>


<dt><code>predictions</code></dt>
<dd><p>(<a href="https://rdrr.io/pkg/data.table/man/data.table.html" class="external-link">data.table</a>) Feature-specific prediction objects provided for some methods (<a href="PFI.html">PFI</a>, <a href="WVIM.html">WVIM</a>). Contains columns for feature of interest, resampling iteration, refit or perturbation iteration, and <a href="https://mlr3.mlr-org.com/reference/Prediction.html" class="external-link">mlr3::Prediction</a> objects.</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-FeatureImportanceMethod-new"><code>FeatureImportanceMethod$new()</code></a></p></li>
<li><p><a href="#method-FeatureImportanceMethod-compute"><code>FeatureImportanceMethod$compute()</code></a></p></li>
<li><p><a href="#method-FeatureImportanceMethod-importance"><code>FeatureImportanceMethod$importance()</code></a></p></li>
<li><p><a href="#method-FeatureImportanceMethod-obs_loss"><code>FeatureImportanceMethod$obs_loss()</code></a></p></li>
<li><p><a href="#method-FeatureImportanceMethod-reset"><code>FeatureImportanceMethod$reset()</code></a></p></li>
<li><p><a href="#method-FeatureImportanceMethod-print"><code>FeatureImportanceMethod$print()</code></a></p></li>
<li><p><a href="#method-FeatureImportanceMethod-scores"><code>FeatureImportanceMethod$scores()</code></a></p></li>
<li><p><a href="#method-FeatureImportanceMethod-clone"><code>FeatureImportanceMethod$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-FeatureImportanceMethod-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Creates a new instance of this <a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6</a> class.
This is typically intended for use by derived classes.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/FeatureImportanceMethod.html">FeatureImportanceMethod</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>  <span class="va">task</span>,</span>
<span>  <span class="va">learner</span>,</span>
<span>  measure <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  resampling <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  features <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  groups <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  param_set <span class="op">=</span> <span class="fu">paradox</span><span class="fu">::</span><span class="fu"><a href="https://paradox.mlr-org.com/reference/ps.html" class="external-link">ps</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">label</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>task, learner, measure, resampling, features, groups, param_set, label</code></dt>
<dd><p>Used to set fields</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-FeatureImportanceMethod-compute"></a><div class="section">
<h3 id="method-compute-">Method <code>compute()</code><a class="anchor" aria-label="anchor" href="#method-compute-"></a></h3>
<p>Compute feature importance scores</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FeatureImportanceMethod</span><span class="op">$</span><span class="fu">compute</span><span class="op">(</span>store_backends <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>store_backends</code></dt>
<dd><p>(<code>logical(1): TRUE</code>) Whether to store backends.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-FeatureImportanceMethod-importance"></a><div class="section">
<h3 id="method-importance-">Method <code>importance()</code><a class="anchor" aria-label="anchor" href="#method-importance-"></a></h3>
<p>Get aggregated importance scores.
The stored <code><a href="https://mlr3.mlr-org.com/reference/Measure.html" class="external-link">measure</a></code> object's <code>aggregator</code> (default: <code>mean</code>) will be used to aggregated importance scores
across resampling iterations and, depending on the method use, permutations (<a href="PerturbationImportance.html">PerturbationImportance</a> or refits <a href="LOCO.html">LOCO</a>).</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FeatureImportanceMethod</span><span class="op">$</span><span class="fu">importance</span><span class="op">(</span></span>
<span>  relation <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  standardize <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  ci_method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"none"</span>, <span class="st">"raw"</span>, <span class="st">"nadeau_bengio"</span>, <span class="st">"quantile"</span><span class="op">)</span>,</span>
<span>  conf_level <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>relation</code></dt>
<dd><p>(character(1)) How to relate perturbed scores to originals ("difference" or "ratio").
If <code>NULL</code>, uses stored parameter value. This is only applicable for methods where importance is based on some
relation between baseline and post-modification loss, i.e. <a href="PerturbationImportance.html">PerturbationImportance</a> methods such as <a href="PFI.html">PFI</a> or <a href="WVIM.html">WVIM</a> / <a href="LOCO.html">LOCO</a>.
Not available for <a href="SAGE.html">SAGE</a> methods.</p></dd>


<dt><code>standardize</code></dt>
<dd><p>(<code>logical(1)</code>: <code>FALSE</code>) If <code>TRUE</code>, importances are standardized by the highest score so all scores fall in <code>[-1, 1]</code>.</p></dd>


<dt><code>ci_method</code></dt>
<dd><p>(<code>character(1)</code>: <code>"none"</code>) Which confidence interval estimation method to use, defaulting to omitting
variance estimation (<code>"none"</code>).
If <code>"raw"</code>, uncorrected (too narrow) CIs are provided purely for informative purposes.
If <code>"nadeau_bengio"</code>, variance correction is performed according to Nadeau &amp; Bengio (2003) as suggested by Molnar et al. (2023).
If <code>"quantile"</code>, empirical quantiles are used to construct confidence-like intervals.
These methods are model-agnostic and rely on suitable <code>resampling</code>s, e.g. subsampling with 15 repeats for <code>"nadeau_bengio"</code>.
See details.</p></dd>


<dt><code>conf_level</code></dt>
<dd><p>(<code>numeric(1)</code>: <code>0.95</code>) Confidence level to use for confidence interval construction when <code>ci_method != "none"</code>.</p></dd>


<dt><code>...</code></dt>
<dd><p>Additional arguments passed to specialized methods, if any.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h4>
<p>Variance estimates for importance scores are biased due to the resampling procedure. Molnar et al. (2023) suggest to use
the variance correction factor proposed by Nadeau &amp; Bengio (2003) of n2/n1, where n2 and n1 are the sizes of the test- and train set, respectively.
This should then be combined with approx. 15 iterations of either bootstrapping or subsampling.</p>
<p>The use of bootstrapping in this context can lead to problematic information leakage when combined with learners
that perform bootstrapping themselves, e.g., Random Forest learners.
In such cases, observations may be used as train- and test instances simultaneously, leading to erroneous performance estimates.</p>
<p>An approach leading to still imperfect, but improved variance estimates could be:</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va"><a href="../reference/PFI.html">PFI</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>  task <span class="op">=</span> <span class="fu"><a href="../reference/sim_dgp_scenarios.html">sim_dgp_interactions</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span>,</span>
<span>  learner <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">lrn</a></span><span class="op">(</span><span class="st">"regr.ranger"</span>, num.trees <span class="op">=</span> <span class="fl">100</span><span class="op">)</span>,</span>
<span>  measure <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">msr</a></span><span class="op">(</span><span class="st">"regr.mse"</span><span class="op">)</span>,</span>
<span>  <span class="co"># Subsampling instead of bootstrapping due to RF</span></span>
<span>  resampling <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">rsmp</a></span><span class="op">(</span><span class="st">"subsampling"</span>, repeats <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>  n_repeats <span class="op">=</span> <span class="fl">20</span></span>
<span><span class="op">)</span></span></code></pre><p></p></div>
<p><code>n_repeats = 20</code> in this context only improves the stability of the PFI estimate within the resampling iteration, whereas <code>rsmp("subsampling", repeats = 15)</code>
is used to account for learner variance and necessitates variance correction.</p>
<p>This approach can in principle also be applied to <code>CFI</code> and <code>RFI</code>, but beware that a conditional sample such as <a href="ConditionalARFSampler.html">ConditionalARFSampler</a> also needs to be trained on data,
which would need to be taken account by the variance estimation method.
Analogously, the <code>"nadeau_bengio"</code> correction was recommended for the use with <a href="PFI.html">PFI</a> by Molnar et al., so its use with other methods like <a href="LOCO.html">LOCO</a> or <a href="SAGE.html">SAGE</a> is experimental.</p>
<p>Note that even if <code>measure</code> uses an <code>aggregator</code> function that is not the mean, variance estimation currently will always use <code><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean()</a></code> and <code><a href="https://rdrr.io/r/stats/cor.html" class="external-link">var()</a></code>.</p>
</div>

<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>(<a href="https://rdrr.io/pkg/data.table/man/data.table.html" class="external-link">data.table</a>) Aggregated importance scores with columns <code>"feature"</code>, <code>"importance"</code>,
and depending on <code>ci_method</code> also <code>"se"</code>, <code>"conf_lower"</code>, <code>"conf_upper"</code>.</p>
</div>

</div><p></p><hr><a id="method-FeatureImportanceMethod-obs_loss"></a><div class="section">
<h3 id="method-obs-loss-">Method <code>obs_loss()</code><a class="anchor" aria-label="anchor" href="#method-obs-loss-"></a></h3>
<p>Calculate observation-wise importance scores.</p>
<p>Requires that <code>$compute()</code> was run and that <code>measure</code> is decomposable and
has an observation-wise loss (<code>Measure$obs_loss()</code>) associated with it.
This is not the case for measure like <code>classif.auc</code>, which is not decomposable.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FeatureImportanceMethod</span><span class="op">$</span><span class="fu">obs_loss</span><span class="op">(</span>relation <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>relation</code></dt>
<dd><p>(character(1)) How to relate perturbed scores to originals ("difference" or "ratio"). If <code>NULL</code>, uses stored parameter value. This is only applicable for methods where importance is based on some
relation between baseline and post-modification loss, i.e. <a href="PerturbationImportance.html">PerturbationImportance</a> methods such as <a href="PFI.html">PFI</a> or <a href="WVIM.html">WVIM</a> / <a href="LOCO.html">LOCO</a>. Not available for <a href="SAGE.html">SAGE</a> methods.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>(<a href="https://rdrr.io/pkg/data.table/man/data.table.html" class="external-link">data.table</a>) Observation-wise losses and importance scores with columns
<code>"feature"</code>, <code>"iter_rsmp"</code>, <code>"iter_repeat"</code> (if applicable), <code>"row_ids"</code>, <code>"loss_baseline"</code>, <code>"loss_post"</code>, and <code>"obs_importance"</code>.</p>
</div>

</div><p></p><hr><a id="method-FeatureImportanceMethod-reset"></a><div class="section">
<h3 id="method-reset-">Method <code>reset()</code><a class="anchor" aria-label="anchor" href="#method-reset-"></a></h3>
<p>Resets all stored fields populated by <code>$compute</code>: <code>$resample_result</code>, <code>$scores</code>, <code>$obs_losses</code>, and <code>$predictions</code>.</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FeatureImportanceMethod</span><span class="op">$</span><span class="fu">reset</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-FeatureImportanceMethod-print"></a><div class="section">
<h3 id="method-print-">Method <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code><a class="anchor" aria-label="anchor" href="#method-print-"></a></h3>
<p>Print importance scores</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FeatureImportanceMethod</span><span class="op">$</span><span class="fu">print</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>Passed to <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code></p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-FeatureImportanceMethod-scores"></a><div class="section">
<h3 id="method-scores-">Method <code>scores()</code><a class="anchor" aria-label="anchor" href="#method-scores-"></a></h3>
<p>Calculate importance scores for each resampling iteration and sub-iterations
(<code>iter_rsmp</code> in <a href="PFI.html">PFI</a> for example).</p>
<p>Iteration-wise importance are computed on the fly depending on the chosen relation
(<code>difference</code> or <code>ratio</code>) to avoid re-computation if only a different relation is needed.</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FeatureImportanceMethod</span><span class="op">$</span><span class="fu">scores</span><span class="op">(</span>relation <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>relation</code></dt>
<dd><p>(character(1)) How to relate perturbed scores to originals ("difference" or "ratio"). If <code>NULL</code>, uses stored parameter value. This is only applicable for methods where importance is based on some
relation between baseline and post-modification loss, i.e. <a href="PerturbationImportance.html">PerturbationImportance</a> methods such as <a href="PFI.html">PFI</a> or <a href="WVIM.html">WVIM</a> / <a href="LOCO.html">LOCO</a>. Not available for <a href="SAGE.html">SAGE</a> methods.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p>(<a href="https://rdrr.io/pkg/data.table/man/data.table.html" class="external-link">data.table</a>) Iteration-wise importance scores with columns for
<code>"feature"</code>, iteration indices, baseline and post-modification scores, and <code>"importance"</code>.</p>
</div>

</div><p></p><hr><a id="method-FeatureImportanceMethod-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FeatureImportanceMethod</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://lukasburk.de" class="external-link">Lukas Burk</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

